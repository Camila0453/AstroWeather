<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <title>WeatherApp - AstroWeather</title>
    <style>
        body {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }
        .weather-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 20px auto;
            max-width: 1200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .weather-icon {
            font-size: 80px;
            color: #f39c12;
        }
        .temperature {
            font-size: 4rem;
            font-weight: bold;
            color: #f39c12;
            margin: 0;
        }
        .weather-description {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 10px;
        }
        .weather-details {
            background: rgba(116, 185, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        .forecast-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .forecast-day {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .forecast-icon {
            font-size: 40px;
            margin: 15px 0;
        }
        .hourly-forecast {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .search-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            width: 300px;
        }
        .search-input {
            border: none;
            background: transparent;
            flex: 1;
            padding: 5px;
            outline: none;
        }
        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
            color: #0984e3;
        }
        .temp-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #fff;
            border-radius: 25px;
            padding: 5px 15px;
            margin: 0 5px;
            color: #333;
        }
        .temp-toggle.active {
            background: #0984e3;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg" style="background: rgba(255, 255, 255, 0.1);">
            <div class="container-fluid">
                <a class="navbar-brand nav-brand" href="#">
                    <i class="fas fa-cloud-sun me-2"></i>WeatherApp
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                    <ul class="navbar-nav me-3">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToHome()">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToFavorites()">Favorites</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToSettings()">Settings</a>
                        </li>
                    </ul>
                    
                    <div class="search-container">
                        <input type="text" class="search-input" placeholder="Search" id="searchInput" onkeypress="handleSearchKeyPress(event)">
                        <i class="fas fa-search" onclick="performWeatherSearch()"></i>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Weather Container -->
    <div class="container-fluid">
        <div class="weather-container">
            <!-- Location and Date -->
            <div class="weather-header">
                <div>
                    <h1 id="locationName">Clima en Madrid, España</h1>
                    <p class="text-muted" id="currentDate">Hoy, 25 de Octubre</p>
                </div>
                <div class="d-flex align-items-center">
                    <button class="temp-toggle active" onclick="switchTemperatureUnit('celsius')" id="celsiusBtn">Celsius</button>
                    <button class="temp-toggle" onclick="switchTemperatureUnit('fahrenheit')" id="fahrenheitBtn">Fahrenheit</button>
                </div>
            </div>

            <div class="row">
                <!-- Current Weather -->
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="d-flex align-items-center mb-4">
                                <i class="fas fa-sun weather-icon me-4" id="currentWeatherIcon"></i>
                                <div>
                                    <h2 class="temperature" id="currentTemp">25°C</h2>
                                    <p class="weather-description" id="weatherDescription">Mayormente Soleado</p>
                                    <p class="text-muted" id="tempRange">Máxima: 28°C / Mínima: 18°C</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hourly Forecast -->
                    <div class="hourly-forecast">
                        <div class="text-center">
                            <h5>Pronóstico por Hora</h5>
                            <div id="hourlyChart">
                                <i class="fas fa-chart-line" style="font-size: 60px; opacity: 0.5;"></i>
                                <p class="mt-3">Gráfico de temperatura por horas</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weather Details -->
                <div class="col-lg-4">
                    <div class="weather-details">
                        <h5 class="mb-3">Detalles</h5>
                        <div class="row mb-2">
                            <div class="col-6">Humedad</div>
                            <div class="col-6 text-end" id="humidity">62%</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Velocidad del viento</div>
                            <div class="col-6 text-end" id="windSpeed">15 km/h</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Sensación térmica</div>
                            <div class="col-6 text-end" id="feelsLike">30°C</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Presión</div>
                            <div class="col-6 text-end" id="pressure">1012 hPa</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5-Day Forecast -->
            <div class="mt-4">
                <h5 class="mb-3">Pronóstico para los Próximos 5 Días</h5>
                <div class="row" id="fiveDayForecast">
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Lunes</div>
                            <i class="fas fa-sun forecast-icon" style="color: #f39c12;"></i>
                            <div class="fw-bold">29° / 19°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Martes</div>
                            <i class="fas fa-cloud forecast-icon" style="color: #74b9ff;"></i>
                            <div class="fw-bold">26° / 17°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Miércoles</div>
                            <i class="fas fa-cloud-rain forecast-icon" style="color: #0984e3;"></i>
                            <div class="fw-bold">22° / 15°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Jueves</div>
                            <i class="fas fa-cloud-sun forecast-icon" style="color: #fdcb6e;"></i>
                            <div class="fw-bold">24° / 16°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Viernes</div>
                            <i class="fas fa-sun forecast-icon" style="color: #f39c12;"></i>
                            <div class="fw-bold">27° / 18°</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Funciones de navegación
        function navigateToHome() {
            console.log('Navegando a Home');
            // Aquí puedes agregar lógica para mostrar la vista de inicio
        }

        function navigateToFavorites() {
            console.log('Navegando a Favoritos');
            // Aquí puedes agregar lógica para mostrar favoritos
        }

        function navigateToSettings() {
            console.log('Navegando a Configuración');
            // Aquí puedes agregar lógica para mostrar configuración
        }

        // Función de búsqueda
        function handleSearchKeyPress(event) {
            if (event.key === 'Enter') {
                performWeatherSearch();
            }
        }

        function performWeatherSearch() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                console.log('Buscando clima para:', searchTerm);
                // Aquí integrarás con tu API de clima
                fetchWeatherData(searchTerm);
            }
        }

        // Función para cambiar unidades de temperatura
        function switchTemperatureUnit(unit) {
            const celsiusBtn = document.getElementById('celsiusBtn');
            const fahrenheitBtn = document.getElementById('fahrenheitBtn');
            
            if (unit === 'celsius') {
                celsiusBtn.classList.add('active');
                fahrenheitBtn.classList.remove('active');
            } else {
                fahrenheitBtn.classList.add('active');
                celsiusBtn.classList.remove('active');
            }
            
            console.log('Cambiando unidad de temperatura a:', unit);
            convertTemperatures(unit);
        }

        // Función para convertir temperaturas
        function convertTemperatures(unit) {
            // Aquí implementarás la conversión de todas las temperaturas en la página
            const currentTemp = document.getElementById('currentTemp');
            const tempRange = document.getElementById('tempRange');
            const feelsLike = document.getElementById('feelsLike');
            
            // Ejemplo de conversión (necesitarás implementar la lógica completa)
            if (unit === 'fahrenheit') {
                // Convertir de Celsius a Fahrenheit
                console.log('Convirtiendo a Fahrenheit...');
            } else {
                // Convertir de Fahrenheit a Celsius
                console.log('Convirtiendo a Celsius...');
            }
        }

        // Función para obtener datos del clima (conectar con tu API)
        function fetchWeatherData(location) {
            console.log('Obteniendo datos del clima para:', location);
            // Aquí integrarás con tu API existente
            // Puedes usar tu función mandarApi() existente
        }

        // Función para actualizar la interfaz con datos del clima
        function updateWeatherInterface(weatherData) {
            document.getElementById('locationName').textContent = weatherData.location || 'Ubicación no encontrada';
            document.getElementById('currentTemp').textContent = weatherData.temperature || '--°C';
            document.getElementById('weatherDescription').textContent = weatherData.description || 'Sin descripción';
            document.getElementById('humidity').textContent = weatherData.humidity || '--%';
            document.getElementById('windSpeed').textContent = weatherData.windSpeed || '-- km/h';
            document.getElementById('pressure').textContent = weatherData.pressure || '-- hPa';
            document.getElementById('feelsLike').textContent = weatherData.feelsLike || '--°C';
            
            // Actualizar icono del clima
            updateWeatherIcon(weatherData.condition);
            
            // Actualizar pronóstico de 5 días
            updateFiveDayForecast(weatherData.forecast);
        }

        // Función para actualizar el icono del clima
        function updateWeatherIcon(condition) {
            const iconElement = document.getElementById('currentWeatherIcon');
            const iconMap = {
                'sunny': 'fas fa-sun',
                'cloudy': 'fas fa-cloud',
                'rainy': 'fas fa-cloud-rain',
                'partly-cloudy': 'fas fa-cloud-sun',
                'snowy': 'fas fa-snowflake',
                'stormy': 'fas fa-bolt'
            };
            
            iconElement.className = iconMap[condition] || 'fas fa-sun';
        }

        // Función para actualizar el pronóstico de 5 días
        function updateFiveDayForecast(forecastData) {
            if (!forecastData || !Array.isArray(forecastData)) return;
            
            const forecastContainer = document.getElementById('fiveDayForecast');
            forecastContainer.innerHTML = '';
            
            forecastData.slice(0, 5).forEach(day => {
                const dayCard = `
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">${day.day}</div>
                            <i class="${getWeatherIconClass(day.condition)} forecast-icon" style="color: ${getWeatherIconColor(day.condition)};"></i>
                            <div class="fw-bold">${day.high}° / ${day.low}°</div>
                        </div>
                    </div>
                `;
                forecastContainer.innerHTML += dayCard;
            });
        }

        // Funciones auxiliares para iconos del clima
        function getWeatherIconClass(condition) {
            const iconMap = {
                'sunny': 'fas fa-sun',
                'cloudy': 'fas fa-cloud',
                'rainy': 'fas fa-cloud-rain',
                'partly-cloudy': 'fas fa-cloud-sun',
                'snowy': 'fas fa-snowflake',
                'stormy': 'fas fa-bolt'
            };
            return iconMap[condition] || 'fas fa-sun';
        }

        function getWeatherIconColor(condition) {
            const colorMap = {
                'sunny': '#f39c12',
                'cloudy': '#74b9ff',
                'rainy': '#0984e3',
                'partly-cloudy': '#fdcb6e',
                'snowy': '#ddd',
                'stormy': '#636e72'
            };
            return colorMap[condition] || '#f39c12';
        }

        // Inicializar fecha actual
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('currentDate').textContent = 
                'Hoy, ' + today.toLocaleDateString('es-ES', options);
        });
    </script>
</body>
</html>