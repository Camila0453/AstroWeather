<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <title>WeatherApp - AstroWeather</title>
    <style>
        body {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }
        .weather-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 20px auto;
            max-width: 1200px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .weather-icon {
            font-size: 80px;
            color: #f39c12;
        }
        .temperature {
            font-size: 4rem;
            font-weight: bold;
            color: #f39c12;
            margin: 0;
        }
        .weather-description {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 10px;
        }
        .weather-details {
            background: rgba(116, 185, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        .forecast-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .forecast-day {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .forecast-icon {
            font-size: 40px;
            margin: 15px 0;
        }
        .hourly-forecast {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .search-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            width: 300px;
        }
        .search-input {
            border: none;
            background: transparent;
            flex: 1;
            padding: 5px;
            outline: none;
        }
        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
            color: white !important;
        }
        .temp-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #fff;
            border-radius: 25px;
            padding: 5px 15px;
            margin: 0 5px;
            color: #333;
        }
        .temp-toggle.active {
            background: #0984e3;
            color: white;
        }
        @media (max-width: 768px) {
            .weather-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .search-container {
                width: 250px;
                margin-top: 10px;
            }
            .temperature {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg" style="background: rgba(255, 255, 255, 0.1);">
            <div class="container-fluid">
                <a class="navbar-brand nav-brand" href="#">
                    <i class="fas fa-cloud-sun me-2"></i>WeatherApp
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                    <ul class="navbar-nav me-3">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToHome()">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToFavorites()">Favorites</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#" onclick="navigateToSettings()">Settings</a>
                        </li>
                    </ul>
                    
                    <div class="search-container">
                        <input type="text" class="search-input" placeholder="Search" id="searchInput" onkeypress="handleSearchKeyPress(event)">
                        <i class="fas fa-search" onclick="performWeatherSearch()"></i>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Weather Container -->
    <div class="container-fluid">
        <div class="weather-container">
            <!-- Location and Date -->
            <div class="weather-header">
                <div>
                    <h1 id="locationName">Clima en Madrid, España</h1>
                    <p class="text-muted" id="currentDate">Hoy, 25 de Octubre</p>
                </div>
                <div class="d-flex align-items-center">
                    <button class="temp-toggle active" onclick="switchTemperatureUnit('celsius')" id="celsiusBtn">Celsius</button>
                    <button class="temp-toggle" onclick="switchTemperatureUnit('fahrenheit')" id="fahrenheitBtn">Fahrenheit</button>
                </div>
            </div>

            <div class="row">
                <!-- Current Weather -->
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="d-flex align-items-center mb-4">
                                <i class="fas fa-sun weather-icon me-4" id="currentWeatherIcon"></i>
                                <div>
                                    <h2 class="temperature" id="currentTemp">25°C</h2>
                                    <p class="weather-description" id="weatherDescription">Mayormente Soleado</p>
                                    <p class="text-muted" id="tempRange">Máxima: 28°C / Mínima: 18°C</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hourly Forecast -->
                    <div class="hourly-forecast">
                        <div class="text-center">
                            <h5>Pronóstico por Hora</h5>
                            <div id="hourlyChart">
                                <i class="fas fa-chart-line" style="font-size: 60px; opacity: 0.5;"></i>
                                <p class="mt-3">Gráfico de temperatura por horas</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weather Details -->
                <div class="col-lg-4">
                    <div class="weather-details">
                        <h5 class="mb-3">Detalles</h5>
                        <div class="row mb-2">
                            <div class="col-6">Humedad</div>
                            <div class="col-6 text-end" id="humidity">62%</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Velocidad del viento</div>
                            <div class="col-6 text-end" id="windSpeed">15 km/h</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Sensación térmica</div>
                            <div class="col-6 text-end" id="feelsLike">30°C</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-6">Presión</div>
                            <div class="col-6 text-end" id="pressure">1012 hPa</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5-Day Forecast -->
            <div class="mt-4">
                <h5 class="mb-3">Pronóstico para los Próximos 5 Días</h5>
                <div class="row" id="fiveDayForecast">
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Lunes</div>
                            <i class="fas fa-sun forecast-icon" style="color: #f39c12;"></i>
                            <div class="fw-bold">29° / 19°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Martes</div>
                            <i class="fas fa-cloud forecast-icon" style="color: #74b9ff;"></i>
                            <div class="fw-bold">26° / 17°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Miércoles</div>
                            <i class="fas fa-cloud-rain forecast-icon" style="color: #0984e3;"></i>
                            <div class="fw-bold">22° / 15°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Jueves</div>
                            <i class="fas fa-cloud-sun forecast-icon" style="color: #fdcb6e;"></i>
                            <div class="fw-bold">24° / 16°</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="forecast-card">
                            <div class="forecast-day">Viernes</div>
                            <i class="fas fa-sun forecast-icon" style="color: #f39c12;"></i>
                            <div class="fw-bold">27° / 18°</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulario original (oculto por defecto, se puede mostrar desde Settings) -->
            <div class="mt-4" id="originalForm" style="display: none;">
                <h5>Búsqueda Avanzada</h5>
                <form id="formTiempo" class="form-label" method="POST" action="" enctype="multipart/form-data">
                    <div class="form-group row">
                        <label for="datoFecha" class="col-sm-2 col-form-label col-form-label-sm">Fecha Inicio</label>
                        <div class="col-sm-4">
                            <input required type="date" class="form-control form-control-sm" id="datoFecha" name="datoFecha" placeholder="Seleccione una fecha">
                        </div>
                        <label for="datoUbi" class="col-sm-2 col-form-label col-form-label-sm">Fecha Fin</label>
                        <div class="col-sm-4">
                            <input required type="date" class="form-control form-control-sm" id="datoUbi" name="datoUbi" placeholder="Seleccione una fecha">
                        </div>    
                    </div>
                    <div class="text-center">
                        <button id="buscarTiempo" name="buscarTiemp" onclick="mandarApi()" type="button" class="btn btn-primary my-4">Buscar Pronóstico Avanzado</button>
                    </div>
                </form>
            </div>

            <!-- Información del proyecto -->
            <div class="mt-5" id="aboutSection" style="display: none;">
                <h5>Sobre Nosotros</h5>
                <p>Aplicación de clima desarrollada para el NASA Space Apps Challenge - Comodoro Rivadavia</p>
                
                <h5>Fuentes de Recursos</h5>
                <p>Para realizar este desafío se utilizó información propuesta por NASA International Space Apps Challenge.
                Dicha información consta de datos meteorológicos globales que han sido recopilados por la NASA por varios años, dentro de los datos se pueden encontrar
                precipitaciones, viento, temperaturas, entre otras. Se dan condiciones típicas de un lugar y hora en específico según las estadísticas que ayudan a poder estimar con un tiempo aproximado de 1 año a partir de la fecha actual.</p>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>