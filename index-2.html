<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Astro Weather</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="dashboard.css" type="text/css">
  <!-- Favicon con tu logo -->
  <link rel="icon" type="image/png" href="img/logo.png" />
  <style>
    :root{
      --astro-primary:#0ea5e9;
      --astro-deep:#0b132b;
      scroll-behavior: smooth;
    }


    body{ background-color:#0b0f19; color:#e5e7eb; }

    .hero{
      position:relative;
      min-height:100vh;
      background-image: url('img/bg.png'); /* tu fondo */
      background-size:cover; background-position:center; background-repeat:no-repeat;
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
    }
    .hero::before{
      content:""; position:absolute; inset:0; background:radial-gradient(rgba(0,0,0,.0), rgba(0,0,0,.55));
    }

    .navbar-glass{
      background:rgba(10,12,20,.35); backdrop-filter: blur(6px);
      border-bottom:1px solid rgba(255,255,255,.08);
    }

    .hero-title{ font-weight:800; letter-spacing:.04em; text-shadow:0 6px 24px rgba(0,0,0,.55); }
    .hero-sub{ opacity:.95 }

    .star{ position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; opacity:.8; animation: twinkle 2.4s infinite ease-in-out; }
    @keyframes twinkle{ 0%,100%{opacity:.2; transform:scale(.8)} 50%{opacity:1; transform:scale(1.2)} }

    .btn-astro{ --bs-btn-bg: var(--astro-primary); --bs-btn-border-color: var(--astro-primary); --bs-btn-hover-bg:#0284c7; --bs-btn-hover-border-color:#0284c7; }

    section{ padding:80px 0; }
  </style>
</head>
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top navbar-glass">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#inicio">
        <img src="img/logo.png" alt="logo" class="img-fluid" style="max-height:42px;">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="#inicio">INICIO</a></li>
          <li class="nav-item"><a class="nav-link" href="#clima">CLIMA</a></li>
          <li class="nav-item"><a class="nav-link" href="#sobre">SOBRE NOSOTROS</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header id="inicio" class="hero text-center text-white">
    <span class="star" style="top:15%;left:22%;animation-delay:.2s"></span>
    <span class="star" style="top:30%;left:74%;animation-delay:1.1s"></span>
    <span class="star" style="top:68%;left:12%;animation-delay:.6s"></span>
    <span class="star" style="top:78%;left:55%;animation-delay:1.7s"></span>

    <div class="container position-relative">
      <div class="row justify-content-center">
        <div class="col-11 col-md-10 col-lg-8">
          <h1 class="display-3 hero-title">ASTRO WEATHER</h1>
          <p class="lead hero-sub">Aplicaci√≥n de sistema meteorol√≥gico a futuro</p>
          <div class="d-flex gap-3 justify-content-center mt-4">
            <a href="#clima" class="btn btn-astro btn-lg">Ver Clima</a>
            <a href="#sobre" class="btn btn-outline-light btn-lg">Con√≥cenos</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- NUEVA SECCI√ìN: Buscador + Calendario (reemplaza la anterior del medio) -->
  <section id="clima" class="d-flex" >
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
          <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
            <div class="card-body p-4 p-md-5 bg-dark text-white">
              <form class="row g-3 align-items-end" id="form-busqueda">
                <!-- Buscador -->
                <div class="col-12 col-md-7">
                  <label for="q" class="form-label">Buscar ciudad o ubicaci√≥n</label>
                  <div class="input-group input-group-lg">
                    <span class="input-group-text bg-secondary-subtle">üîé</span>
                    <input type="search" class="form-control" id="q" name="q" placeholder="Ej: Buenos Aires, AR" autocomplete="off" />
                  </div>
                </div>
                <!-- Calendario (fecha) -->
                <div class="col-12 col-md-3">
                  <label for="fecha" class="form-label">Fecha</label>
                  <input type="date" class="form-control form-control-lg" id="fecha" name="fecha" />
                </div>
                <!-- Bot√≥n -->
                <div class="col-12 col-md-2 d-grid">
                  <button class="btn btn-astro btn-lg" type="submit">Buscar</button>
                </div>
              </form>

              <!-- Chips de ubicaciones recientes -->
              <div class="d-flex flex-wrap gap-2 mt-3" id="recientes" aria-live="polite"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="sobre" class="bg-dark">
    <div class="container">
      <div class="row align-items-center gy-4">
        <div class="col-lg-6">
          <h2 class="mb-3">Sobre nosotros</h2>
          <p>Somos un equipo que combina ciencia de datos y meteorolog√≠a para construir un sistema de pron√≥stico impulsado por sat√©lites y modelos num√©ricos de √∫ltima generaci√≥n.</p>
          <ul class="mb-4">
            <li>Datos satelitales y de estaciones</li>
            <li>Modelos ML para nowcasting</li>
            <li>API y app multiplataforma</li>
          </ul>
          <a href="#inicio" class="btn btn-astro">Volver al inicio</a>
        </div>
        <div class="col-lg-6">
          <div class="ratio ratio-16x9 rounded-4 overflow-hidden shadow">
            <iframe src="https://www.youtube.com/embed/2HoTK_Gqi2Q" title="Earth from Space" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="dashboard">
    <h1>
      <span class="icon">üå§Ô∏è</span>
      Deportes y Clima
    </h1>
    <div class="card">
      <label for="deporte">Selecciona un deporte:</label>
      <select id="deporte">
        <option value="futbol">F√∫tbol</option>
        <option value="tenis">Tenis</option>
        <option value="ciclismo">Ciclismo</option>
        <option value="natacion">Nataci√≥n</option>
      </select>
      <button id="consultar">
        <span class="icon-btn">üîç</span> Consultar clima
      </button>
      <div id="resultado" class="resultado"></div>
    </div>
  </div>
  <footer>
  

  <footer class="py-4 text-center text-white-50 border-top border-light-subtle">
    <small>¬© <span id="y"></span> Astro Weather</small>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    // --- L√≥gica m√≠nima del buscador ---
    const form = document.getElementById('form-busqueda');
    const recientes = document.getElementById('recientes');
    const key = 'aw_recientes';

    function renderRecientes(){
      const list = JSON.parse(localStorage.getItem(key) || '[]');
      recientes.innerHTML = '';
      list.slice(-6).reverse().forEach(txt=>{
        const b = document.createElement('button');
        b.type='button'; b.className='btn btn-sm btn-outline-light rounded-pill';
        b.textContent=txt; b.onclick=()=>{ document.getElementById('q').value=txt; };
        recientes.appendChild(b);
      });
      if(list.length){
        const label = document.createElement('span');
        label.className='text-white-50 small me-2'; label.textContent='Recientes:';
        recientes.prepend(label);
      }
    }

    form?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const ciudad = document.getElementById('q').value.trim();
      const fecha = document.getElementById('fecha').value;
      if(!ciudad) return;

      // Guardar como reciente
      const list = JSON.parse(localStorage.getItem(key) || '[]');
      if(!list.includes(ciudad)) list.push(ciudad);
      localStorage.setItem(key, JSON.stringify(list));
      renderRecientes();

      // Aqu√≠ conect√°s tu API real:
      // fetch(`/js/conexionApi?city=${encodeURIComponent(ciudad)}&date=${fecha}`)
      //   .then(r=>r.json()).then(data=>{ /* renderizar resultados */ });

      alert(`Buscar: ${ciudad}\nFecha: ${fecha || 'hoy'}`); // quitalo cuando integres la API
    });

    renderRecientes();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
></script>

</body>
</html>
